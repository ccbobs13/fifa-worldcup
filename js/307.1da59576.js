"use strict";(self["webpackChunkgraphqlapi_dashboard"]=self["webpackChunkgraphqlapi_dashboard"]||[]).push([[307],{190:function(e,t,a){a.r(t),a.d(t,{default:function(){return v}});var n=a(4944),s=a(3484),o=a(4437),r=a(6035),i=a(7652),l=a(5057),c=a(5294),u=function(){var e=this,t=e._self._c;return t(r.Z,[t(c.Z,{attrs:{"no-gutters":""}},[t(o.Z,{attrs:{cols:"12"}},[t(s.Z,{attrs:{"active-class":"red--text",column:"",mandatory:""},model:{value:e.chipGroup,callback:function(t){e.chipGroup=t},expression:"chipGroup"}},e._l(e.tags,(function(a){return t(n.Z,{key:a.tag,attrs:{filter:"",outlined:""}},[t(l.Z,{attrs:{left:""}},[e._v(" "+e._s(a.icon)+" ")]),e._v(" "+e._s(a.tag)+" ")],1)})),1)],1)],1),0==e.getChipValue?t(c.Z,[t(o.Z,{attrs:{cols:"12"}},[[t(i.Z,{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.tenBestAttendance,"items-per-page":10,loading:e.loading,"loading-text":"Chargement en cours",locale:"fr","no-data-text":"Aucune donnée","no-results-text":"Aucune correspondance"},scopedSlots:e._u([{key:"item.rang",fn:function({item:t}){return[e._v(" "+e._s(e.tenBestAttendance.indexOf(t)+1)+" ")]}}],null,!0)})]],2)],1):e._e(),1==e.getChipValue?t(c.Z,[t(o.Z,{attrs:{cols:"12"}},[[t(i.Z,{staticClass:"elevation-1",attrs:{headers:e.headers2,items:e.champions,"items-per-page":10,loading:e.loading2,"loading-text":"Chargement en cours",locale:"fr","no-data-text":"Aucune donnée","no-results-text":"Aucune correspondance"},scopedSlots:e._u([{key:"item.rang",fn:function({item:t}){return[e._v(" "+e._s(e.champions.indexOf(t)+1)+" ")]}}],null,!0)})]],2)],1):e._e()],1)},h=[],p=(a(7658),a(8718)),d={name:"StatistiquesView",data:()=>({chipGroup:"",rangs:[1,2,3,4,5,6,7,8,9,10],champions:[],tags:[{tag:"Afficher les 10 meilleures attendances",icon:"mdi-eye"},{tag:"Afficher le classement des pays par CDM",icon:"mdi-trophy"}],headers:[{text:"Rang",value:"rang",sortable:!1},{text:"Annee",value:"year",sortable:!1},{text:"Attendance",value:"attendance",sortable:!1}],headers2:[{text:"Rang",value:"rang",sortable:!1},{text:"Pays",value:"team"},{text:"Nombre de coupes",value:"no"}],tenBestAttendance:[],loading:!1,loading2:!1}),computed:{getChipValue(){switch(this.chipGroup){case 0:this.getTenBestAttendance();break;case 1:this.getChampions();break;default:break}return this.chipGroup}},methods:{async getTenBestAttendance(){this.loading=!0,this.$apollo.query({query:p.rg}).then((e=>{this.tenBestAttendance=e.data?.cups,this.loading=!1}))},groupBy(e,t){return e.reduce((function(e,a){var n=a[t];return e[n]||(e[n]=[]),e[n].push(a),e}),{})},async getChampions(){this.loading2=!0,await this.$apollo.query({query:p.lu}).then((e=>{let t=e.data?.cups,a=this.groupBy(t,"champion");var n=Object.keys(a).map((e=>({team:e,no:a[e].length})));this.champions=n.sort(((e,t)=>t?.no-e?.no)),this.loading2=!1}))}}},g=d,m=a(1001),f=(0,m.Z)(g,u,h,!1,null,null,null),v=f.exports},3484:function(e,t,a){a.d(t,{Z:function(){return r}});var n=a(9687),s=a(8914),o=a(4987),r=(0,o.Z)(n.Wk,s.Z).extend({name:"v-chip-group",provide(){return{chipGroup:this}},props:{column:Boolean},computed:{classes(){return{...n.Wk.options.computed.classes.call(this),"v-chip-group":!0,"v-chip-group--column":this.column}}},watch:{column(e){e&&(this.scrollOffset=0),this.$nextTick(this.onResize)}},methods:{genData(){return this.setTextColor(this.color,{...n.Wk.options.methods.genData.call(this)})}}})}}]);
//# sourceMappingURL=307.1da59576.js.map